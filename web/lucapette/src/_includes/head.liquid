<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% if title %}
    {% if title == 'Home' %}
      <title>Luca Pette</title>
    {% else %}
      <title>
        {{ title }}
        - Luca Pette
      </title>
    {% endif %}
  {% else %}
    <title>Luca Pette</title>
  {% endif %}
  <meta
    name="description"
    content="{% if description %}{{ description | escape }}{% else %}{{ site.description }}{% endif %}"
  >
  <meta property="og:title" content="{% if title %}{{ title }}{% else %}Luca Pette{% endif %}">
  <meta
    property="og:description"
    content="{% if description %}{{ description | escape }}{% else %}{{ site.description }}{% endif %}"
  >
  <meta property="og:url" content="{{ site.url }}{{ page.url }}">
  {% comment %} TODO this needs improvement (the section a better factor to determine type){% endcomment %}
  {% assign has_cover = '' | hasCover %}
  <meta property="og:type" content="{% if has_cover %}article{% else %}website{% endif %}">
  <meta property="og:site_name" content="Luca Pette">
  {% if has_cover %}
    <meta name="twitter:card" content="summary_large_image">
  {% else %}
    <meta name="twitter:card" content="summary">
  {% endif %}
  <meta name="twitter:site" content="@lucapette">
  <meta name="twitter:title" content="{% if title %}{{ title }}{% else %}Luca Pette{% endif %}">
  <meta
    name="twitter:description"
    content="{% if description %}{{ description | escape }}{% else %}{{ site.description }}{% endif %}"
  >
  {% assign has_cover = '' | hasCover %}
  {% if has_cover %}
    {% assign webp_url = '' | coverImageWebp %}
    {% assign jpeg_url = '' | coverImageJpeg %}
    <meta property="og:image" content="{{ site.url }}{{ webp_url }}">
    <meta property="og:image:secure_url" content="{{ site.url }}{{ jpeg_url }}">
    <meta name="twitter:image" content="{{ site.url }}{{ webp_url }}">
  {% endif %}
  <link rel="stylesheet" href="{{ "css/main.css" | asset }}">


    {% comment %}TODO why do we need this?{% endcomment %}
  {% if node_env != 'production' %}
    <link rel="stylesheet" href="/assets/css/prism-nord.css">
    <link rel="stylesheet" href="/assets/css/prism-line-numbers.css">
  {% endif %}
  <link href="/atom.xml" rel="alternate" title="Luca Pette" type="application/atom+xml">
  <meta
    name="keywords"
    content="{% if keywords %}{{ keywords }}{% else %}{% if tags %}{{ tags | join: ", " }}{% endif %}{% endif %}"
  >
</head>
